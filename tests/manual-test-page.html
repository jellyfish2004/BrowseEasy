<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrowseEasy - Developer Test Environment</title>
    <style>
        body {
            font-family: 'Consolas', 'Monaco', monospace;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
            background: #1e1e1e;
            color: #d4d4d4;
        }
        .test-section {
            background: #252526;
            border: 1px solid #333;
            border-radius: 8px;
            margin: 20px 0;
            padding: 20px;
        }
        .test-section h2 {
            color: #569cd6;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
            margin: 15px 0;
        }
        .test-card {
            background: #2d2d30;
            border: 1px solid #444;
            border-radius: 6px;
            padding: 15px;
        }
        .test-card h3 {
            color: #dcdcaa;
            margin: 0 0 10px 0;
            font-size: 16px;
        }
        .test-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        .test-btn {
            background: #0e639c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 13px;
            font-family: monospace;
        }
        .test-btn:hover {
            background: #1177bb;
        }
        .test-btn.secondary {
            background: #6c757d;
        }
        .test-btn.success {
            background: #107c10;
        }
        .test-btn.warning {
            background: #bf8803;
        }
        .test-btn.danger {
            background: #a1260d;
        }
        .test-links {
            margin: 10px 0;
        }
        .test-links a {
            color: #4fc3f7;
            text-decoration: underline;
            margin-right: 15px;
        }
        .test-images {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin: 15px 0;
        }
        .test-image {
            width: 150px;
            height: 100px;
            object-fit: cover;
            border: 1px solid #444;
            border-radius: 4px;
        }
        .test-media {
            margin: 15px 0;
        }
        .test-video, .test-audio {
            max-width: 100%;
            margin: 10px 0;
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 4px;
        }
        .test-video {
            max-height: 200px;
        }
        .test-form {
            background: #2d2d30;
            padding: 20px;
            border-radius: 6px;
            margin: 15px 0;
            border: 1px solid #444;
        }
        .form-group {
            margin: 15px 0;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #dcdcaa;
        }
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 8px 12px;
            border: 1px solid #555;
            border-radius: 4px;
            font-size: 14px;
            background: #1e1e1e;
            color: #d4d4d4;
            font-family: monospace;
        }
        .contrast-test {
            background: linear-gradient(45deg, #333, #666);
            color: white;
            padding: 20px;
            border-radius: 6px;
            margin: 15px 0;
        }
        .dyslexia-test {
            font-size: 16px;
            line-height: 1.8;
            padding: 20px;
            background: #2d2d30;
            border-radius: 6px;
            border: 1px solid #444;
        }
        .cursor-test-area {
            background: repeating-linear-gradient(
                45deg,
                #2d2d30,
                #2d2d30 10px,
                #333 10px,
                #333 20px
            );
            padding: 40px;
            text-align: center;
            border-radius: 6px;
            margin: 15px 0;
            min-height: 100px;
            cursor: pointer;
            border: 1px solid #444;
        }
        .instructions {
            background: #264f78;
            border: 1px solid #3a6ea5;
            color: #e3f2fd;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
        .feature-demo {
            background: #2d2d30;
            border: 2px dashed #555;
            padding: 20px;
            margin: 15px 0;
            border-radius: 6px;
            text-align: center;
        }
        #test-status {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #107c10;
            color: white;
            padding: 10px 20px;
            border-radius: 6px;
            z-index: 1000;
            display: none;
            font-family: monospace;
            font-size: 12px;
        }
        .hover-target {
            background: #2d2d30;
            border: 2px solid #444;
            padding: 15px;
            margin: 10px 0;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        .hover-target:hover {
            background: #383838;
            border-color: #666;
        }
        

        
        .debug-info {
            background: #1e1e1e;
            border: 1px solid #333;
            padding: 8px;
            margin: 8px 0;
            font-size: 11px;
            border-radius: 4px;
            white-space: pre-wrap;
        }
    </style>
</head>
<body>
    <div id="test-status">BrowseEasy Test Status</div>

    <header>
        <h1>Test Environment</h1>
        <p class="instructions">
            <strong>Testing Protocol:</strong>
            1. Load the BrowseEasy extension and verify injection
            2. Open the extension panel and test each toggle/feature
            3. Monitor the debug console for real-time feedback
        </p>
        

    </header>



    <div class="test-section">
        <h2>üìé Link Highlighting Test</h2>
        <p>Toggle link highlighting - should add yellow background and orange border:</p>
        <div class="test-links">
            <a href="#test1">Internal Test Link 1</a>
            <a href="#test2">Internal Test Link 2</a>
            <a href="https://example.com" target="_blank">External Link</a>
            <a href="mailto:test@example.com">Email Link</a>
            <a href="tel:+1234567890">Phone Link</a>
            <a href="javascript:void(0)">JavaScript Link</a>
        </div>
        <button class="test-btn" onclick="analyzeLinkHighlighting()">Analyze Link Styles</button>
        <div class="debug-info" id="link-debug">Click analyze to see current link styling...</div>
    </div>

    <div class="test-section">
        <h2>üî§ Dyslexia-Friendly Text Test</h2>
        <div class="dyslexia-test">
            <p>This paragraph tests dyslexia-friendly formatting. Text should become easier to read with better fonts and increased letter spacing when enabled.</p>
            <p><strong>Bold text</strong>, <em>italic text</em>, and <u>underlined text</u> formatting tests.</p>
            <p>Numbers: 123456789, Special chars: !@#$%^&*(), Mixed: Test123!@#</p>
        </div>
        <button class="test-btn" onclick="checkDyslexiaFormatting()">Check Text Formatting</button>
        <div class="debug-info" id="dyslexia-debug">Click check to analyze text formatting...</div>
    </div>

    <div class="test-section">
        <h2>üîç Website Scaling Test</h2>
        <p>Test scaling feature - page should zoom in/out based on extension settings:</p>
        <div class="feature-demo">
            <h3>Scale Reference Content</h3>
            <p>Use this content to visually verify scaling changes.</p>
            <small>Small text for scale testing</small>
            <h2>Large heading for scale testing</h2>
        </div>
    </div>

    <div class="test-section">
        <h2>üñºÔ∏è Image and Video Hiding Test</h2>
        <p>Toggle image hiding - all media should disappear when enabled:</p>
        <div class="test-images">
            <img class="test-image" src="test_image.jpg" alt="Test Image 1">
            <img class="test-image" src="test_image.jpg" alt="Test Image 2">
            <img class="test-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iI2ZmYzEwNyIvPjx0ZXh0IHg9Ijc1IiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjE0IiBmaWxsPSIjMjEyNTI5IiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5TVkcgSW1hZ2U8L3RleHQ+PC9zdmc+" alt="SVG Test Image">
        </div>
        <div class="test-media">
            <video class="test-video" controls width="200" height="120">
                <source src="test_video.mp4" type="video/mp4">
                <p>Video file not found or corrupted. Using placeholder for testing.</p>
            </video>
        </div>
        <button class="test-btn" onclick="checkMediaVisibility()">Check Media Visibility</button>
        <div class="debug-info" id="media-debug">Click check to analyze media element visibility...</div>
    </div>

    <div class="test-section">
        <h2>üñ±Ô∏è Cursor Size Test</h2>
        <div class="cursor-test-area">
            <h3>Cursor Size Testing Area</h3>
            <p>Move cursor here to test size changes.</p>
            <p>Test sizes: 50%, 100%, 150%, 200%, 300%</p>
        </div>
        <button class="test-btn" onclick="checkCursorSize()">Check Cursor Size</button>
        <div class="debug-info" id="cursor-debug">Click check to analyze cursor styling...</div>
    </div>

    <div class="test-section">
        <h2>üîá Sound Control Test</h2>
        <div class="test-media">
            <h3>Audio Element</h3>
            <audio class="test-audio" controls>
                <source src="test_audio.wav" type="audio/wav">
            </audio>
            
            <h3>Video with Audio</h3>
            <video class="test-video" controls width="250" height="140">
                <source src="test_video.mp4" type="video/mp4">
                <p>Video file not available - test audio muting with audio element above.</p>
            </video>
            
            <p><strong>Test:</strong> Media should be muted when sound control is enabled.</p>
        </div>
        <button class="test-btn" onclick="checkAudioMuting()">Check Audio Status</button>
        <div class="debug-info" id="audio-debug">Click check to analyze audio element muting...</div>
    </div>

    <div class="test-section">
        <h2>‚ú® Hover Highlighting Test</h2>
        <p>Enable hover highlighting to see elements light up on mouseover:</p>
        <div class="test-grid">
            <div class="hover-target">
                <h4>Hover Target 1</h4>
                <p>Should highlight on hover</p>
            </div>
            <div class="hover-target">
                <h4>Hover Target 2</h4>
                <p>Should also highlight on hover</p>
            </div>
        </div>
        <div class="test-buttons">
            <button class="test-btn hover-target">Hover Button 1</button>
            <button class="test-btn secondary hover-target">Hover Button 2</button>
            <input type="text" class="hover-target" placeholder="Hover over this input">
        </div>
    </div>

    <div class="test-section">
        <h2>üîò Button Enlargement Test</h2>
        <p>Toggle button enlargement - buttons should grow when enabled:</p>
        <div class="test-buttons">
            <button class="test-btn">Primary Button</button>
            <button class="test-btn secondary">Secondary Button</button>
            <button class="test-btn success">Success Button</button>
            <button class="test-btn warning">Warning Button</button>
            <button class="test-btn danger">Danger Button</button>
        </div>
        <button class="test-btn" onclick="checkButtonSizes()">Check Button Sizes</button>
        <div class="debug-info" id="button-debug">Click check to analyze button sizing...</div>
    </div>

    <div class="test-section">
        <h2>üåà Contrast Adjustment Test</h2>
        <div class="contrast-test">
            <h3>Contrast Test Content</h3>
            <p>This content has deliberately low contrast elements.</p>
            <p style="color: #999;">Gray text that should become more readable.</p>
            <p style="color: #ccc;">Light gray text that should improve.</p>
        </div>
        <div style="background: #2a2a2a; color: #555; padding: 20px; border-radius: 6px;">
            <h4>Subtle Content</h4>
            <p>This content has subtle contrast that should be enhanced.</p>
        </div>
        <button class="test-btn" onclick="checkContrastLevels()">Check Contrast Levels</button>
        <div class="debug-info" id="contrast-debug">Click check to analyze contrast adjustments...</div>
    </div>

    <div class="test-section">
        <h2>üè∑Ô∏è Alt Text Generation Test</h2>
        <p>Test AI alt text generation - images without alt should get descriptions:</p>
        <div class="test-images">
            <img class="test-image" src="test_image.jpg">
            <img class="test-image" src="test_image.jpg">
            <img class="test-image" src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTUwIiBoZWlnaHQ9IjEwMCIgZmlsbD0iIzIwYzk5NyIvPjx0ZXh0IHg9Ijc1IiB5PSI1NSIgZm9udC1mYW1pbHk9IkFyaWFsIiBmb250LXNpemU9IjEyIiBmaWxsPSIjZmZmIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5ObyBBbHQgVGV4dDwvdGV4dD48L3N2Zz4=">
        </div>
        <button class="test-btn" onclick="checkAltTextGeneration()">Check Alt Text</button>
        <div class="debug-info" id="alt-debug">Click check to see alt text status...</div>
    </div>

    <div class="test-section">
        <h2>üí¨ Live Captions Test</h2>
        <div class="test-media">
            <h3>Test Audio/Video for Live Captions</h3>
            <video class="test-video" controls width="300" height="180">
                <source src="test_video.mp4" type="video/mp4">
                <p>Video not available - use audio element below for caption testing.</p>
            </video>
            <audio class="test-audio" controls style="width: 300px; margin: 10px 0;">
                <source src="test_audio.wav" type="audio/wav">
                <p>Audio file not found - live captions need working media files.</p>
            </audio>
            <p><strong>Test:</strong> Enable live captions then play media - captions should appear at bottom.</p>
        </div>
        <button class="test-btn" onclick="checkLiveCaptions()">Check Caption System</button>
        <div class="debug-info" id="caption-debug">Click check to analyze live caption system...</div>
    </div>

    <div class="test-section">
        <h2>üìù Form Elements Test</h2>
        <div class="test-form">
            <h3>Form Testing Suite</h3>
            <div class="form-group">
                <label for="test-text">Text Input:</label>
                <input type="text" id="test-text" placeholder="Test text input">
            </div>
            <div class="form-group">
                <label for="test-email">Email Input:</label>
                <input type="email" id="test-email" placeholder="test@example.com">
            </div>
            <div class="form-group">
                <label for="test-select">Select Dropdown:</label>
                <select id="test-select">
                    <option>Option 1</option>
                    <option>Option 2</option>
                    <option>Option 3</option>
                </select>
            </div>
            <div class="form-group">
                <label for="test-textarea">Textarea:</label>
                <textarea id="test-textarea" rows="4" placeholder="Test textarea content"></textarea>
            </div>
            <div class="form-group">
                <label>
                    <input type="checkbox"> Checkbox Test
                </label>
            </div>
            <div class="form-group">
                <label>
                    <input type="radio" name="test-radio" value="1"> Radio Option 1
                </label>
                <label>
                    <input type="radio" name="test-radio" value="2"> Radio Option 2
                </label>
            </div>
            <button type="submit" class="test-btn">Submit Form</button>
            <button type="reset" class="test-btn secondary">Reset Form</button>
        </div>
    </div>

    <div class="test-section">
        <h2>ü§ñ AI Integration Test</h2>
        <div class="instructions">
            <h3>Voice Commands to Test:</h3>
            <ul>
                <li><strong>"Make this page bigger"</strong> - Should scale to 150%</li>
                <li><strong>"Scale to 120%"</strong> - Should scale to exactly 120%</li>
                <li><strong>"Increase cursor size"</strong> - Should set cursor to 150%</li>
                <li><strong>"Set cursor to 200%"</strong> - Should set cursor to exactly 200%</li>
                <li><strong>"Enable link highlighting"</strong> - Should highlight all links</li>
                <li><strong>"Make text dyslexia friendly"</strong> - Should improve text readability</li>
                <li><strong>"Hide all images"</strong> - Should hide images and videos</li>
                <li><strong>"Increase contrast"</strong> - Should boost page contrast</li>
                <li><strong>"What is this page about?"</strong> - Should analyze page content</li>
            </ul>
        </div>
    </div>

    <div class="test-section">
        <h2>üìä Content Sharing Test</h2>
        <p>Enable content sharing (üìÑ button) then ask AI about this page:</p>
        <div class="feature-demo">
            <h3>Sample Content for AI Analysis</h3>
            <p>This is a comprehensive test page for the BrowseEasy browser extension. It contains various HTML elements, multimedia content, and interactive components designed to test all accessibility features.</p>
            <ul>
                <li>Accessibility features testing</li>
                <li>Theme system verification</li>
                <li>AI integration validation</li>
                <li>Performance monitoring</li>
            </ul>
        </div>
    </div>

    <footer style="margin-top: 40px; padding: 20px; background: #2d2d30; border-radius: 6px; border: 1px solid #444;">
        <h3>üìã Test Checklist</h3>
        <p><strong>Feature verification checklist:</strong></p>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 15px;">
            <ul style="list-style-type: none; padding: 0;">
                <li>‚òê Theme toggles (2 switches ‚Üí 4 combinations)</li>
                <li>‚òê Link highlighting (yellow bg, orange border)</li>
                <li>‚òê Dyslexia-friendly text (fonts + spacing)</li>
                <li>‚òê Website scaling (50% to 300%)</li>
                <li>‚òê Image/video hiding</li>
                <li>‚òê Cursor size adjustment</li>
                <li>‚òê Sound muting</li>
                <li>‚òê Hover highlighting</li>
            </ul>
            <ul style="list-style-type: none; padding: 0;">
                <li>‚òê Button enlargement</li>
                <li>‚òê Contrast adjustment</li>
                <li>‚òê Alt text generation (Gemini API)</li>
                <li>‚òê Live captions (Sarvam API)</li>
                <li>‚òê Voice commands (AI processing)</li>
                <li>‚òê Content sharing</li>
                <li>‚òê Settings persistence</li>
                <li>‚òê Extension panel responsive</li>
            </ul>
        </div>
    </footer>

    <script>


        // Status management
        function updateStatus(message) {
            const status = document.getElementById('test-status');
            status.textContent = message;
            status.style.display = 'block';
            setTimeout(() => status.style.display = 'none', 3000);
        }

        // Link highlighting analysis
        function analyzeLinkHighlighting() {
            const links = document.querySelectorAll('a');
            const debug = document.getElementById('link-debug');
            let analysis = `Found ${links.length} links:\n`;
            
            links.forEach((link, i) => {
                const styles = window.getComputedStyle(link);
                const bgColor = styles.backgroundColor;
                const borderColor = styles.borderColor;
                analysis += `Link ${i}: bg=${bgColor}, border=${borderColor}\n`;
            });
            
            debug.textContent = analysis;
        }

        // Media visibility checking
        function checkMediaVisibility() {
            const images = document.querySelectorAll('img');
            const videos = document.querySelectorAll('video');
            const debug = document.getElementById('media-debug');
            
            let analysis = `Media elements:\n`;
            images.forEach((img, i) => {
                const styles = window.getComputedStyle(img);
                analysis += `IMG${i}: display=${styles.display}, visibility=${styles.visibility}\n`;
            });
            
            videos.forEach((video, i) => {
                const styles = window.getComputedStyle(video);
                analysis += `VIDEO${i}: display=${styles.display}, visibility=${styles.visibility}\n`;
            });
            
            debug.textContent = analysis;
        }

        // Audio muting check
        function checkAudioMuting() {
            const audios = document.querySelectorAll('audio, video');
            const debug = document.getElementById('audio-debug');
            let analysis = `Audio elements:\n`;
            
            audios.forEach((element, i) => {
                analysis += `${element.tagName}${i}: muted=${element.muted}, volume=${element.volume}\n`;
            });
            
            debug.textContent = analysis;
        }

        // Other analysis functions
        function checkDyslexiaFormatting() {
            const testElement = document.querySelector('.dyslexia-test');
            const styles = window.getComputedStyle(testElement);
            const debug = document.getElementById('dyslexia-debug');
            debug.textContent = `Font: ${styles.fontFamily}\nLetter spacing: ${styles.letterSpacing}\nLine height: ${styles.lineHeight}`;
        }

        function checkCursorSize() {
            const styles = window.getComputedStyle(document.body);
            const debug = document.getElementById('cursor-debug');
            debug.textContent = `Body cursor: ${styles.cursor}`;
        }

        function checkButtonSizes() {
            const buttons = document.querySelectorAll('.test-btn');
            const debug = document.getElementById('button-debug');
            let analysis = `Button sizes:\n`;
            
            buttons.forEach((btn, i) => {
                const styles = window.getComputedStyle(btn);
                analysis += `BTN${i}: ${styles.width} x ${styles.height}, padding: ${styles.padding}\n`;
            });
            
            debug.textContent = analysis;
        }

        function checkContrastLevels() {
            const debug = document.getElementById('contrast-debug');
            debug.textContent = 'Contrast analysis would require color parsing - check visually';
        }

        function checkAltTextGeneration() {
            const images = document.querySelectorAll('img');
            const debug = document.getElementById('alt-debug');
            let analysis = `Alt text status:\n`;
            
            images.forEach((img, i) => {
                const alt = img.getAttribute('alt');
                analysis += `IMG${i}: ${alt ? `"${alt}"` : 'NO ALT'}\n`;
            });
            
            debug.textContent = analysis;
        }

        function checkLiveCaptions() {
            const debug = document.getElementById('caption-debug');
            const captionOverlay = document.querySelector('.live-captions-overlay');
            debug.textContent = `Caption overlay present: ${captionOverlay ? 'YES' : 'NO'}`;
        }

        // Event listeners
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('test-btn')) {
                updateStatus(`Clicked: ${e.target.textContent}`);
            }
        });

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            updateStatus('Test environment ready');
            
            // Handle media loading errors
            const videos = document.querySelectorAll('video');
            const audios = document.querySelectorAll('audio');
            
            videos.forEach(video => {
                video.addEventListener('error', () => {
                    console.log('Video failed to load:', video.src);
                });
                video.addEventListener('loadstart', () => {
                    console.log('Video loading started:', video.src);
                });
            });
            
            audios.forEach(audio => {
                audio.addEventListener('error', () => {
                    console.log('Audio failed to load:', audio.src);
                });
            });
        });

        // Expose utilities
        window.testUtils = {
            updateStatus,
            analyzeLinkHighlighting,
            checkMediaVisibility,
            checkAudioMuting,
            getCurrentScale
        };
        
        // Test if JavaScript is working
        console.log('BrowseEasy test page JavaScript loaded successfully');
    </script>
</body>
</html> 